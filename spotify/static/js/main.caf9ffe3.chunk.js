(this["webpackJsonpspotify-app"]=this["webpackJsonpspotify-app"]||[]).push([[0],{29:function(e,t,s){},31:function(e,t,s){},42:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),n=s(20),i=s.n(n),l=(s(29),s(23)),r=s(2),o=s(17),j=s(6),d=s(0),u={user:{id:null,wishlist:[]}},b=a.a.createContext(u),h=a.a.createContext(void 0),m=function(e){var t=e.children,s=a.a.useReducer((function(e,t){return Object(o.a)(Object(o.a)({},e),{},{newValue:t})}),u),c=Object(j.a)(s,2),n=c[0],i=c[1];return Object(d.jsx)(b.Provider,{value:n,children:Object(d.jsx)(h.Provider,{value:i,children:t})})},x=(s(31),s(10)),f=s.n(x),O=s(14),p=s(21),v=s(22),g="http://localhost:3001",N={CLIENT_ID:"7947cb158a2d42e297457da92df731fc",CLIENT_SECRET:"534b6400831a47a3a107eb98b33ca918",TOKEN:"BQCJw2i1qyC0cEtowONsV42MUYIHFgpXhNn_mZ2RzoLylJl1ypWrxSQfHFrTSSA3YnhweINp1Cb8vtGF2mp4QQ5pu--SYTBBDqmjgTCVaWpvu_zm2SYKMusDB-SyPD9quqOulbIpEqqOnoinVSvidkFnm0pVcMtSgdfV2Pg53BwOsZ_cGUycduW6b4mHXVgQ9C_cHCtpUhVUQFQAuFbu6OsDqUIa_KCBLORxN0DegK1xAgvZWa2W-yERlhjdbOe9yMFOZRHKqikFsqQbksLw29e3We6fm6xhWMSDcKKkKlRq"},y={SEARCH:"https://api.spotify.com/v1/search",ARTISTS:"https://api.spotify.com/v1/artists"},w=function(){function e(){Object(p.a)(this,e)}return Object(v.a)(e,null,[{key:"Authenticate",value:function(){fetch(' "https://accounts.spotify.com/authorize" +\n            "?response_type=code" +\n            "&client_id=" +\n            '.concat(N.CLIENT_ID)).then((function(e){}))}},{key:"AuthenticateUser",value:function(){window.location.href="https://accounts.spotify.com/authorize?client_id=".concat(N.CLIENT_ID,"&redirect_uri=http://localhost:3001&response_type=token")}},{key:"ArtistSearch",value:function(){var e=Object(O.a)(f.a.mark((function e(t,s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("".concat(y.SEARCH,"?type=artist&q=").concat(s,"&token=").concat(t,"&"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)})),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"ArtistAlbums",value:function(){var e=Object(O.a)(f.a.mark((function e(t,s){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=fetch("".concat(y.ARTISTS,"/").concat(s,"/albums"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)})),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()}]),e}();function S(e){return Object(d.jsxs)("div",{className:"lds-ring ".concat(e.white&&"white"),children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})}var k=s(13),C=s.n(k);function A(e){var t,s=a.a.useState(null),c=Object(j.a)(s,2),n=c[0],i=c[1];return a.a.useEffect((function(){i(e.artist)})),null!==n?Object(d.jsx)("div",{className:"artist-grid mb-3 ".concat(e.active&&"active"),onClick:function(){e.setActive(e.artist)},children:Object(d.jsxs)("div",{className:"d-flex justify-content-start px-2 align-items-center",children:[Object(d.jsx)("div",{className:"artist-image",children:void 0!==e.artist.images&&Object(d.jsx)("img",{src:e.artist.images.length>1?e.artist.images[0].url:e.artist.images.url,alt:""})}),Object(d.jsxs)("div",{className:"artist-info",children:[Object(d.jsxs)("div",{className:"d-flex flex-column justify-content-between",children:[Object(d.jsx)("div",{className:"artist-name",children:e.artist.name}),Object(d.jsxs)("div",{className:"artist-followers",children:[(t=e.artist.followers.total,Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t))," Followers"]})]}),Object(d.jsx)("div",{className:"artist-rating",children:Object(d.jsx)(C.a,{rating:e.artist.popularity/20,starRatedColor:"gold",starDimension:"25px",startSpacing:"0",numberOfStars:5,name:"rating"})})]})]})}):Object(d.jsx)("div",{className:"w-100 py-5"})}function _(e){return Object(d.jsx)("div",{className:"col-xl-3 col-md-4 col-sm-6",children:Object(d.jsxs)("div",{className:"album-grid position-relative",children:[Object(d.jsx)("a",{href:e.album.external_urls.spotify,className:"album-link d-flex justify-content-center align-items-center",children:Object(d.jsx)("h2",{className:"text-light px-2 text-center",children:"Go to Album"})}),Object(d.jsx)("div",{className:"album-year d-flex justify-content-center align-items-center",children:e.album.release_date.split("-")[0]}),Object(d.jsx)("div",{className:"album-image",children:Object(d.jsx)("img",{loading:"lazy",src:e.album.images.length>1?e.album.images[0].url:e.album.images.url,className:"img-fluid",alt:""})}),Object(d.jsxs)("div",{className:"album-info pt-2",children:[Object(d.jsx)("div",{className:"album-name",children:e.album.name}),Object(d.jsxs)("div",{className:"album-artists",children:["Artists :",Object(d.jsx)("div",{className:"d-inline-block",children:e.album.artists.map((function(e,t){return Object(d.jsxs)("div",{className:"text-secondary d-inline-block",children:[e.name," \xa0"]},"album_grid_artists_".concat(t))}))})]}),Object(d.jsxs)("div",{className:"album-track text-secondary fs-10",children:[e.album.total_tracks," Tracks"]})]})]})})}function E(e){var t=[a.a.useContext(b),a.a.useContext(h)],s=t[0],n=Object(c.useState)(""),i=Object(j.a)(n,2),l=i[0],r=i[1],o=Object(c.useState)([]),u=Object(j.a)(o,2),m=u[0],x=u[1],f=Object(c.useState)(!1),O=Object(j.a)(f,2),p=O[0],v=O[1],g=Object(c.useState)(null),N=Object(j.a)(g,2),y=N[0],k=N[1],C=Object(c.useState)(!1),E=Object(j.a)(C,2),I=E[0],T=E[1],R=Object(c.useState)([]),q=Object(j.a)(R,2),F=q[0],L=q[1],B=Object(c.useState)(!1),D=Object(j.a)(B,2),M=D[0],P=D[1];Object(c.useEffect)((function(){P(!1),setTimeout((function(){P(!0),""!==l&&M&&(v(!0),w.ArtistSearch(s.access_token,l).then((function(e){var t;v(!1),e&&e.artists&&(console.log("RESPNSE"),x(null===(t=e.artists)||void 0===t?void 0:t.items))})))}),1e3)}),[l]);var H=function(e){document.querySelector(".main-container").scrollTo({top:document.getElementById(e).getBoundingClientRect().y+window.pageYOffset,behavior:"smooth"})};return Object(c.useEffect)((function(){null!==y&&(T(!0),w.ArtistAlbums(s.access_token,y.id).then((function(e){console.log("RESPONSE!"),T(!1),e&&e.items&&(L(e.items),console.log(F))})))}),[y]),Object(d.jsx)("div",{className:"h-100",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"row main-container overflow-scroll overflow-lg-hidden position-fixed w-100 ",children:[Object(d.jsxs)("div",{id:"artists",className:"equal-height-col col-lg-4 bg-black h-100 sidebar position-relative",children:[Object(d.jsxs)("button",{onClick:function(){H("albums")},className:"d-block btn-default  border-0 d-lg-none goto-section albums bg-light text-dark",children:["Albums ",Object(d.jsx)("div",{className:"fa fa-arrow-down"})]}),Object(d.jsxs)("div",{className:"search-wrapper position-relative",children:[Object(d.jsx)("input",{spellCheck:!1,type:"text",className:"text-field search bg-transparent text-medium br-20",placeholder:"Search for an artist...",onChange:function(e){r(e.target.value)}}),Object(d.jsx)("div",{className:"position-absolute search-icon",children:Object(d.jsx)("div",{className:"fa fa-search text-light fs-2"})})]}),Object(d.jsx)("hr",{className:"text-light"}),Object(d.jsx)("div",{className:"search-results h-fill-available mh-100 overflow-auto position-relative",children:p?Object(d.jsx)("div",{className:"position-absolute w-100 h-100 d-flex justify-content-center align-items-center",children:Object(d.jsx)(S,{white:!0})}):0===m.length&&l.length>0?Object(d.jsxs)("div",{className:"position-absolute w-100 h-100 d-flex justify-content-center align-items-center no-results",children:[Object(d.jsx)("div",{className:"position-absolute music-icon",children:Object(d.jsx)("i",{className:"fa fa-user-times text-light"})}),Object(d.jsx)("div",{className:"d-flex w-100 justify-content-lg-center text-light align-items-center",children:Object(d.jsxs)("h3",{className:"text-light text-center fs-1 w-100",children:["No ",Object(d.jsx)("br",{})," Results"]})})]}):m.length>0?Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"w-100 text-center py-1 text-medium text-light",children:["Displaying ",m.length," results"]}),m.map((function(e,t){return Object(d.jsx)(A,{artist:e,active:null!==y&&y.id===e.id,setActive:k},"artists_".concat(t))}))]}):Object(d.jsxs)("div",{className:"position-absolute w-100 h-100 d-flex justify-content-center align-items-center artists-here",children:[Object(d.jsx)("div",{className:"position-absolute music-icon",children:Object(d.jsx)("i",{className:"fa fa-music text-light"})}),Object(d.jsx)("div",{className:"d-flex w-100 justify-content-lg-center text-light align-items-center",children:Object(d.jsxs)("h3",{className:"text-light text-center fs-1 w-100",children:["Artists ",Object(d.jsx)("br",{})," Here"]})})]})})]}),Object(d.jsxs)("div",{id:"albums",className:"equal-height-col col-lg-8 bg-light-grey h-100 position-relative position-lg-absolute current-albums h-fill-available mh-100 overflow-auto right-0 ",children:[Object(d.jsxs)("button",{onClick:function(){H("artists")},className:"d-block btn-default  border-0 d-lg-none goto-section artists bg-black text-light",children:["Artists ",Object(d.jsx)("div",{className:"fa fa-arrow-up"})]}),I?Object(d.jsx)("div",{className:"position-absolute w-100 h-100 d-flex align-items-center justify-content-center",children:Object(d.jsx)(S,{})}):null===y?Object(d.jsx)("div",{}):Object(d.jsx)("div",{className:"section-padding px-2",children:Object(d.jsx)("div",{className:"row justify-content-center",children:0===F.length?Object(d.jsx)("div",{className:"position-absolute w-100 h-100 d-flex justify-content-center align-items-center",children:Object(d.jsx)("div",{className:"text-dark fs-3 text-bold bold text-uppercase oswald",children:"no albums found"})}):F.map((function(e,t){return Object(d.jsx)(_,{album:e},"album_grid_".concat(t))}))})})]})]})})})}function I(e){return Object(d.jsxs)("div",{className:"section-padding login-view",children:[Object(d.jsx)("div",{className:"overlay"}),Object(d.jsx)("img",{src:"".concat("","/assets/wallpaper.jpg"),alt:"",className:"bg-image"}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row justify-content-center",children:Object(d.jsx)("div",{className:"col-lg-4 col-md-6 col-12",children:Object(d.jsxs)("div",{className:"login-form bg-light-grey pt-2 pb-5 px-3",children:[Object(d.jsx)("label",{className:"label text-dark mb-3 pt-3 d-block fs-3 text-medium text-center",children:"Login"}),Object(d.jsx)("input",{type:"email",placeholder:"Email",className:"text-field"}),Object(d.jsx)("input",{type:"password",placeholder:"Password",className:"text-field"}),Object(d.jsx)("button",{className:"btn-aspect btn-1 mb-2",children:"Login"}),Object(d.jsx)("hr",{}),Object(d.jsx)("button",{className:"btn-aspect btn-2 mt-2 position-relative",onClick:function(){w.AuthenticateUser()},children:Object(d.jsxs)("div",{className:"d-flex justify-content-around align-items-center",children:["Login with Spotify",Object(d.jsx)("i",{className:"fa fa-spotify text-green fs-2"})]})})]})})})})]})}function T(e){var t=[a.a.useContext(b),a.a.useContext(h)],s=t[0],n=t[1];Object(c.useEffect)((function(){i(),w.Authenticate()}),[]);var i=function(){var e=s,t=null!==localStorage.getItem("auth")?JSON.parse(localStorage.getItem("auth")):null,c=window.location.href.split("#")[1];if(null!==t)for(var a in console.log(t),t)e[a]=t[a];else{if(void 0===c)return;if(1===c.length)return;t={},c.split("&").forEach((function(s){var c=s.split("=")[0],a=s.split("=")[1];t[c]=a,e[c]=a}))}localStorage.setItem("auth",JSON.stringify(t)),n(e)};return Object(d.jsxs)("div",{className:"landing-page",children:[Object(d.jsx)("div",{className:"header py-3",children:Object(d.jsx)("div",{className:"container-fluid",children:Object(d.jsxs)("div",{className:"row nav justify-content-between",children:[Object(d.jsx)("div",{className:"col-6",children:Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:"".concat("","/assets/logo.png"),alt:""})})}),Object(d.jsx)("div",{className:"col-6",children:Object(d.jsx)("div",{className:"d-flex h-100 align-items-center justify-content-end",children:Object(d.jsx)("div",{children:void 0!==s.access_token?Object(d.jsxs)("div",{className:"account-settings-wrapper position-relative",children:[Object(d.jsx)("i",{className:"fa fa-user hover-pointer fs-3"}),Object(d.jsx)("div",{className:"account-settings-popup px-3",children:Object(d.jsx)("div",{className:"py-2 px-3",children:Object(d.jsx)("button",{className:"btn-aspect btn-2",onClick:function(){window.location.href=g,n({}),localStorage.removeItem("auth")},children:Object(d.jsxs)("div",{className:"d-flex justify-content-around align-items-center border-1",children:["Logout",Object(d.jsx)("div",{className:"h-100 px-2"}),Object(d.jsx)("div",{className:"fa fa-sign-out"})]})})})})]}):Object(d.jsx)("div",{})})})})]})})}),Object(d.jsx)("div",{className:"",children:Object(d.jsx)("div",{className:"box",children:void 0!==s.access_token?Object(d.jsx)(E,{}):Object(d.jsx)(I,{})})})]})}var R=function(){return Object(d.jsx)(m,{value:u,children:Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(l.a,{children:Object(d.jsx)(r.c,{children:Object(d.jsx)(r.a,{exact:!0,path:"/",component:T})})})})})},q=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,43)).then((function(t){var s=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,i=t.getTTFB;s(e),c(e),a(e),n(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),q()}},[[42,1,2]]]);
//# sourceMappingURL=main.caf9ffe3.chunk.js.map